# ==============================================================================
# ORB Mining Bot Configuration
# Smart Autonomous Bot - Only Essential Settings
# ==============================================================================

# ------------------------------------------------------------------------------
# Wallet & Network (REQUIRED)
# ------------------------------------------------------------------------------
PRIVATE_KEY=your_base58_private_key_here
RPC_ENDPOINT=https://api.mainnet-beta.solana.com
ORB_PROGRAM_ID=boreXQWsKpsJz5RR9BMtN8Vk4ndAk23sutj8spWYhwk
ORB_TOKEN_MINT=orebyr4mDiPDVgnfqvF5xiu5gKnh94Szuz8dqgNqdJn
NETWORK=mainnet-beta

# ------------------------------------------------------------------------------
# Mining Thresholds & Dynamic Scaling
# ------------------------------------------------------------------------------
# Only mine when global motherload >= this value (profitability check)
#
# DYNAMIC SCALING: Bot automatically adjusts deployment amounts based on motherload
# Strategy: As motherload GROWS, bot deploys MORE SOL per round (better EV)
#
# Motherload Tiers (EXTREME CONSERVATIVE - Monte Carlo optimized):
# Based on 10,000-simulation analysis: +139% avg ROI vs +74% previous settings
#   Below 200 ORB: Maximum conservation (880 rounds, ~0.11% budget per round)
#   200-299 ORB: Extreme conservation (440 rounds, ~0.23% budget per round)
#   300-399 ORB: Ultra conservative (400 rounds, ~0.25% budget per round) - +125% ROI
#   400-499 ORB: Very conservative (360 rounds, ~0.28% budget per round) - +151% ROI
#   500-599 ORB: Conservative (320 rounds, ~0.31% budget per round) - +165% ROI
#   600-699 ORB: Moderate-Conservative (280 rounds, ~0.36% budget per round) - +172% ROI
#   700-799 ORB: Moderate (240 rounds, ~0.42% budget per round) - +172% ROI (PEAK)
#   800-899 ORB: Moderate-Aggressive (200 rounds, 0.5% budget per round) - +162% ROI
#   900-999 ORB: Aggressive (160 rounds, ~0.63% budget per round) - +146% ROI
#   1000-1099 ORB: Very aggressive (120 rounds, ~0.83% budget per round) - +125% ROI
#   1100-1199 ORB: Very aggressive (90 rounds, ~1.11% budget per round) - +101% ROI
#   1200+ ORB: Ultra aggressive (60 rounds, ~1.67% budget per round) - +76% ROI
#
# AUTO-RESTART: Bot automatically closes and recreates automation when:
#   - Motherload increases by 50%+ (AND at least 100 ORB increase)
#   - Motherload decreases by 40%+ (AND at least 100 ORB decrease)
# This ensures deployment amounts stay optimal as market conditions change.
#
# ODDS: 1 in 625 chance per deployment (each turn is independent)
# Deploying to all 25 squares maximizes chances each round.
MOTHERLOAD_THRESHOLD=100

# How often to check for new rounds (milliseconds)
CHECK_ROUND_INTERVAL_MS=5000

# ------------------------------------------------------------------------------
# Production Cost Profitability Analysis (HIGHLY RECOMMENDED)
# ------------------------------------------------------------------------------
# Enable production cost check before mining
# When enabled, bot calculates Expected Value (EV) and only mines when profitable
#
# EV = (Expected ORB Ã— ORB Price) + Expected SOL Back - Production Cost
#
# This prevents mining at a loss when:
# - ORB price is too low relative to production cost
# - Competition is too high relative to rewards
# - Motherload is too small to justify the risk
ENABLE_PRODUCTION_COST_CHECK=true

# Minimum Expected Value (EV) required to mine (SOL)
# 0 = mine as long as EV is positive (break-even or better)
# 0.001 = require at least 0.001 SOL profit per round
# Set higher to be more selective about mining conditions
MIN_EXPECTED_VALUE=0

# Estimated competition multiplier
# This estimates how much competition you face relative to your deployment
# Example: 10 = assume other miners deploy 10x your amount
# - Lower value (5) = assume less competition, more optimistic
# - Higher value (20) = assume more competition, more conservative
# Adjust based on observed market conditions
ESTIMATED_COMPETITION_MULTIPLIER=20

# ------------------------------------------------------------------------------
# Automation Account Setup (First Run Only)
# ------------------------------------------------------------------------------
# What % of wallet SOL to use for initial automation funding
# When automation depletes, bot will automatically close and recreate with fresh budget
INITIAL_AUTOMATION_BUDGET_PCT=90

# ------------------------------------------------------------------------------
# Auto-Claim Thresholds
# ------------------------------------------------------------------------------
# Auto-claim SOL rewards when balance >= this (SOL)
AUTO_CLAIM_SOL_THRESHOLD=0.1

# Auto-claim ORB rewards from mining when balance >= this (ORB)
# Each claim costs ~0.00005 SOL. Consider setting higher (5.0+) to reduce fee waste
AUTO_CLAIM_ORB_THRESHOLD=5.0

# Auto-claim ORB rewards from staking when balance >= this (ORB)
# IMPORTANT: Set higher to avoid excessive transaction fees!
# Each claim costs ~0.00005 SOL in fees. Claiming too frequently wastes money.
# Recommended: 5.0 or higher (wait for meaningful amounts before claiming)
AUTO_CLAIM_STAKING_ORB_THRESHOLD=5.0

# How often to check mining rewards for claiming (milliseconds)
# 30000 = 30 seconds, 300000 = 5 minutes (recommended)
# Checking every 30 seconds is fine, but set higher thresholds above to avoid frequent claims
CHECK_REWARDS_INTERVAL_MS=30000

# How often to check staking rewards for claiming (milliseconds)
# 600000 = 10 minutes (recommended default - staking rewards accumulate slowly)
# Staking rewards come from buybacks and accumulate more slowly than mining rewards
# Checking less frequently reduces unnecessary API calls
CHECK_STAKING_REWARDS_INTERVAL_MS=600000

# ------------------------------------------------------------------------------
# Auto-Swap Settings (Proactive ORB Selling)
# ------------------------------------------------------------------------------
# Enable auto-swapping ORB to SOL when you accumulate enough
# Swapped SOL stays in your wallet and funds future automation restarts
AUTO_SWAP_ENABLED=true

# Wallet ORB Swap Threshold
# When wallet ORB balance >= this, automatically swap to SOL
# Examples: 10 = sell when you have 10+ ORB, 1.0 = sell when you have 1+ ORB
WALLET_ORB_SWAP_THRESHOLD=10    

# Minimum ORB price in USD to allow swapping (USD per ORB)
# Bot won't swap if ORB price is below this threshold (protects against selling at low prices)
# Examples: 0 = swap at any price, 30.00 = only swap when ORB >= $30.00
MIN_ORB_PRICE_USD=30

# Never go below this ORB balance (safety reserve)
# Set to 0 to swap ALL ORB, or keep some as reserve
MIN_ORB_TO_KEEP=0

# Minimum ORB amount required to trigger a swap (ORB)
# Bot won't swap if available ORB (balance - MIN_ORB_TO_KEEP) is below this
# Examples: 0.1 = need at least 0.1 ORB to swap, 1.0 = need at least 1 ORB
MIN_ORB_SWAP_AMOUNT=0.1

# Slippage tolerance for swaps (basis points, 50 = 0.5%)
SLIPPAGE_BPS=50

# Priority fee for swap transactions (lamports)
# Higher priority = more likely to land quickly during congestion
# Examples: 100000 = 0.0001 SOL (~$0.02), 500000 = 0.0005 SOL (~$0.10)
# Use 'auto' to let Jupiter decide, or specify a number in lamports
SWAP_PRIORITY_FEE_LAMPORTS=100000

# Jupiter API endpoint (lite-api v1 - working endpoint)
JUPITER_API_URL=https://lite-api.jup.ag/swap/v1

# ------------------------------------------------------------------------------
# Priority Fee Settings (Dynamic Fee Optimization)
# ------------------------------------------------------------------------------
# The bot automatically detects if your RPC supports fee estimation (Helius, Triton, etc.)
# and dynamically adjusts fees based on network congestion to save costs and ensure reliable landing.
#
# ðŸ’¡ For detailed explanation and best practices, see: FEE_OPTIMIZATION.md
# ðŸ§ª Test your RPC's fee estimation support: npx ts-node tests/test-fee-estimation.ts
#
# RECOMMENDED RPC PROVIDERS for best fee optimization:
# - Helius (https://helius.dev) - Most accurate, supports account-specific estimation
# - Triton (https://triton.one) - High performance with fee estimation
# - QuickNode (https://quicknode.com) - Reliable with standard APIs

# Transaction landing speed preference
# Options: 'low' (cheap, may be slower), 'medium' (balanced), 'high' (fast), 'veryHigh' (guaranteed fast)
# The bot queries your RPC for current network fees and uses the appropriate percentile
PRIORITY_FEE_LEVEL=medium

# Minimum priority fee (micro-lamports per compute unit)
# Bot will never go below this, even if network is uncongested
# 1 micro-lamport = 0.000001 lamports per CU
# Examples: 1 = very cheap, 100 = low, 1000 = medium, 10000 = high
MIN_PRIORITY_FEE_MICRO_LAMPORTS=100

# Maximum priority fee (micro-lamports per compute unit)
# Bot will never exceed this, even during extreme congestion
# Protects against overpaying during network spikes
# Examples: 10000 = reasonable cap, 50000 = high cap, 100000 = very high cap
MAX_PRIORITY_FEE_MICRO_LAMPORTS=50000

# ------------------------------------------------------------------------------
# Auto-Stake Settings (Optional)
# ------------------------------------------------------------------------------
# Enable auto-staking of excess ORB for passive yield
AUTO_STAKE_ENABLED=false

# Auto-stake when ORB balance >= this threshold
STAKE_ORB_THRESHOLD=50

# ------------------------------------------------------------------------------
# Safety Settings
# ------------------------------------------------------------------------------
# Dry run mode - simulate without sending real transactions (testing)
DRY_RUN=false

# Minimum wallet SOL balance to maintain (safety reserve)
MIN_SOL_BALANCE=0.1

# Incognito mode - mask sensitive information in console logs
# When enabled, transaction signatures, wallet addresses, and RPC URLs are masked with ***
# Example: AaBbCc...****** instead of full values
# File logs still contain full details for debugging
INCOGNITO_MODE=false
